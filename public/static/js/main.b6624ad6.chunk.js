(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{59:function(e,t,s){},86:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),c=s(18),i=s.n(c),r=(s(59),s(6)),o=(s(60),s(87),s(19)),d=s(5),l=s(91),h=s(92),j=s(93),b=s(94),u=s(95),x=s(28),p=s.n(x),g=s(35),f=s(12),O=s(13),m=s(36),v=s.n(m),k=function(){function e(t){Object(f.a)(this,e),this.assets=void 0,this.updateCount=void 0,this.baseUrl="https://crypto-web-projekti.herokuapp.com/assets.json",this.update=this.update.bind(this),this.getAssets=this.getAssets.bind(this),this.parseAssets=this.parseAssets.bind(this),this.updateCount=0,void 0===t?this.update():this.assets=t}return Object(O.a)(e,[{key:"update",value:function(){this.updateCount++,console.log("".concat(this.updateCount,". update")),this.getAssets()}},{key:"getAssets",value:function(){var e=Object(g.a)(p.a.mark((function e(t){var s,n,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=void 0===t||""===t,n=this.baseUrl,e.next=4,v.a.get(n);case 4:if(200!==(a=e.sent).status){e.next=14;break}return e.next=8,a.data;case 8:c=e.sent,console.log(JSON.stringify(c)),console.log("(200): success"),this.parseAssets(c,s),e.next=15;break;case 14:console.log("status (".concat(a.status,"): ").concat(a.statusText));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseAssets",value:function(e,t){if(t)try{console.log("data: ".concat(e));var s=JSON.parse(JSON.stringify(e));console.log("parsed ok");var n=s.data.map((function(e){var t=e;return t.history=[],t}));console.log("newAssets ok");var a={timestamp:s.timestamp,data:n};console.log("rtnData ok"),console.log("rtnData: ".concat(a)),this.assets=a}catch(c){console.log("Error while parsing JSON: ".concat(c))}}}]),e}(),y=function(){function e(t){Object(f.a)(this,e),this.exchanges=void 0,this.updateCount=void 0,this.baseUrl="https://crypto-web-projekti.herokuapp.com/exchanges.json",this.update=this.update.bind(this),this.getExchanges=this.getExchanges.bind(this),this.parseExchanges=this.parseExchanges.bind(this),this.updateCount=0,void 0===t?this.update():this.exchanges=t}return Object(O.a)(e,[{key:"update",value:function(){this.updateCount++,console.log("".concat(this.updateCount,". update")),this.getExchanges()}},{key:"getExchanges",value:function(){var e=Object(g.a)(p.a.mark((function e(){var t,s,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.baseUrl,e.next=3,v.a.get(t);case 3:if(200!==(s=e.sent).status){e.next=12;break}return e.next=7,s.data;case 7:n=e.sent,console.log("(200): success"),this.parseExchanges(n),e.next=13;break;case 12:console.log("status (".concat(s.status,"): ").concat(s.statusText));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parseExchanges",value:function(e){try{console.log("data: ".concat(e));var t=JSON.parse(JSON.stringify(e));console.log("parsed ok"),this.exchanges=t}catch(s){console.log("Error while parsing JSON: ".concat(s))}}}]),e}(),C=s(1);function R(){return Object(C.jsx)("div",{style:{backgroundColor:"#ffccffaa",minHeight:"320px"},children:Object(C.jsx)("h1",{children:"Home"})})}var T=s(20),B=s(89),E=s(90);function N(e){var t,s=a.a.useState([]),n=Object(r.a)(s,2),c=n[0],i=n[1],o=0,d=function(e,t){var s=Math.round(100*parseFloat(e))/100,n=0===s?"":s<0?"red":"green";return Object(C.jsx)("td",{style:{margin:0,padding:0},children:Object(C.jsxs)("div",{style:{backgroundColor:"#212529",margin:0,padding:0,textAlign:"center",alignItems:"center"},children:[Object(C.jsx)("span",{style:{color:n},children:s}),t?" "+t:""]})})},l=[],h=function(e,t){if(0===t)o=0,l=[];else{if(null===e.id||void 0===e.id)return console.log("idCount: ".concat(o,", return <></>")),Object(C.jsx)(C.Fragment,{});o++;var s="".concat(o,"-").concat(t);l.includes(s)&&console.log("DUBLICATE KEY! - ".concat(s)),l.push(s)}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("tr",{className:"clickable",onClick:function(){return function(e){var t=c;t.includes(e)?i(t.filter((function(t){return t!==e}))):i([].concat(Object(T.a)(c),[e]))}(e.id)},children:[Object(C.jsx)("td",{children:o},"".concat(o,"-").concat(t,"-asset_list_item-").concat(e.id,"_sub1")),Object(C.jsxs)("td",{children:[e.name," (",e.symbol,")"]},"".concat(o,"-").concat(t,"-asset_list_item-").concat(e.id,"_sub2")),Object(C.jsx)("td",{children:(a=e.priceUsd,(null===a||void 0===a?void 0:a.length)>0&&"0"===a[0]?parseFloat(a):Math.round(100*parseFloat(a))/100)},"".concat(o,"-").concat(t,"-asset_list_item-").concat(e.id,"_sub3")),d(e.changePercent24Hr,"%")]},"".concat(o,"-").concat(t,"-asset_list_item-").concat(e.id)),Object(C.jsx)("tr",{className:(n=e.id,c.includes(n)?"":"collapse"),children:Object(C.jsx)("td",{colSpan:4,children:Object(C.jsx)("div",{children:"Click the row again to hide me"},"".concat(o,"-").concat(t,"-asset_list_item-").concat(e.id,"-collapse-sub1-div"))},"".concat(o,"-").concat(t,"-asset_list_item-").concat(e.id,"-collapse-sub1"))},"".concat(o,"-").concat(t,"-asset_list_item-").concat(e.id,"-collapse"))]});var n,a};return Object(C.jsxs)("div",{style:{backgroundColor:"#ffccffaa"},children:[Object(C.jsx)("h1",{children:"Assets"}),Object(C.jsx)(B.a,{onClick:function(){return e.updateAssetsData()},variant:"primary",children:"Update"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"Coin"}),Object(C.jsx)("th",{children:"Value"}),Object(C.jsx)("th",{children:"24h"})]})}),Object(C.jsxs)("tbody",{children:[null===(t=e.assets)||void 0===t?void 0:t.data.map((function(e,t){return h(e,t)})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"1"}),Object(C.jsx)("td",{children:"Bitcoin"}),Object(C.jsx)("td",{children:"60000 $"}),Object(C.jsx)("td",{children:"+1.4 %"})]},"asset_list_bitcoin_placeholder")]})]})]})}function S(){return Object(C.jsx)("div",{style:{backgroundColor:"#ffccffaa",minHeight:"320px"},children:Object(C.jsx)("h1",{children:"History"})})}function _(){return Object(C.jsx)("div",{style:{backgroundColor:"#ffccffaa",minHeight:"320px"},children:Object(C.jsx)("h1",{children:"Markets"})})}function w(e){var t,s=a.a.useState([]),n=Object(r.a)(s,2),c=n[0],i=n[1],o=0,d=function(e,t){var s=Math.round(100*parseFloat(e))/100,n=0===s?"":s<0?"red":"green";return Object(C.jsx)("td",{style:{margin:0,padding:0},children:Object(C.jsxs)("div",{style:{backgroundColor:"#212529",margin:0,padding:0,textAlign:"center",alignItems:"center"},children:[Object(C.jsx)("span",{style:{color:n},children:s}),t?" "+t:""]})})},l=function(e,t){if(0===t)o=0;else{if(null===e.exchangeId||void 0===e.exchangeId)return console.log("idCount: ".concat(o,", return <></>")),Object(C.jsx)(C.Fragment,{});o++}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("tr",{className:"clickable",onClick:function(){return function(e){var t=c;t.includes(e)?i(t.filter((function(t){return t!==e}))):i([].concat(Object(T.a)(c),[e]))}(e.exchangeId)},children:[Object(C.jsx)("td",{children:o}),Object(C.jsx)("td",{children:e.name}),Object(C.jsxs)("td",{children:[(n=e.volumeUsd,(null===n||void 0===n?void 0:n.length)>0&&"0"===n[0]?parseFloat(n):Math.round(100*parseFloat(n))/100)," $"]}),d(e.percentTotalVolume,"%")]},t),Object(C.jsx)("tr",{className:(s=e.exchangeId,c.includes(s)?"":"collapse"),children:Object(C.jsx)("td",{colSpan:4,children:Object(C.jsx)("div",{children:"Click the row again to hide me"})})},"".concat(t,"-collapse"))]});var s,n};return Object(C.jsxs)("div",{style:{backgroundColor:"#ffccffaa"},children:[Object(C.jsx)("h1",{children:"Exchanges"}),Object(C.jsx)(B.a,{onClick:function(){return e.updateExchangesData()},variant:"primary",children:"Update"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)(E.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"Name"}),Object(C.jsx)("th",{children:"Volume"}),Object(C.jsx)("th",{children:"Total Volume"})]})}),Object(C.jsxs)("tbody",{children:[null===(t=e.exchanges)||void 0===t?void 0:t.data.map((function(e,t){return l(e,t)})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:"1"}),Object(C.jsx)("td",{children:"Binance"}),Object(C.jsx)("td",{children:"27770603778.97 $"}),Object(C.jsx)("td",{children:"39.9 %"})]},"bitcoin_placeholder")]})]})]})}var L=function(){var e=a.a.useState(new k),t=Object(r.a)(e,2),s=t[0],n=t[1],c=a.a.useState(),i=Object(r.a)(c,2),x=i[0],p=i[1],g=a.a.useState(new y),f=Object(r.a)(g,2),O=f[0],m=f[1],v=a.a.useState(),T=Object(r.a)(v,2),B=T[0],E=T[1];return a.a.useEffect((function(){console.log("useEffect (data.assets)"),p(s.assets)}),[s.assets]),a.a.useEffect((function(){console.log("useEffect (exchangesData.exchanges)"),E(O.exchanges)}),[O.exchanges]),Object(C.jsx)("div",{style:A.body,children:Object(C.jsx)("main",{role:"main",className:"container-fluid",style:A.main,children:Object(C.jsx)(l.a,{fluid:!0,className:"text-center",children:Object(C.jsxs)(h.a,{children:[Object(C.jsx)(j.a,{sm:1}),Object(C.jsxs)(j.a,{sm:10,children:[Object(C.jsxs)(o.a,{children:[Object(C.jsx)(b.a,{className:"navbar-inverse",bg:"dark",variant:"dark",expand:"lg",style:A.header,children:Object(C.jsxs)(l.a,{style:{position:"relative"},children:[Object(C.jsx)(b.a.Brand,{children:Object(C.jsx)(l.a,{style:A.textLogo,id:"text-logo",children:Object(C.jsxs)(h.a,{children:[Object(C.jsx)(j.a,{style:A.logoSymbol,id:"logo-symbol",children:"C"}),Object(C.jsx)(j.a,{style:A.logoText,id:"logo-text",children:"rypto"})]})})}),Object(C.jsx)(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(C.jsx)(b.a.Collapse,{id:"basic-navbar-nav",children:Object(C.jsxs)(u.a,{className:"mr-auto",style:A.headerItems,children:[Object(C.jsx)(o.b,{to:"/",className:"nav-link",children:"Home"}),Object(C.jsx)(o.b,{to:"/Assets",className:"nav-link",children:"Assets"}),Object(C.jsx)(o.b,{to:"/History",className:"nav-link",children:"History"}),Object(C.jsx)(o.b,{to:"/Markets",className:"nav-link",children:"Markets"}),Object(C.jsx)(o.b,{to:"/Exchanges",className:"nav-link",children:"Exchanges"})]})})]})}),Object(C.jsxs)(d.c,{children:[Object(C.jsx)(d.a,{path:"/",element:Object(C.jsx)(R,{})}),Object(C.jsx)(d.a,{path:"/Assets",element:Object(C.jsx)(N,{assets:x,updateAssetsData:function(){return n(new k(s.assets))}})}),Object(C.jsx)(d.a,{path:"/History",element:Object(C.jsx)(S,{})}),Object(C.jsx)(d.a,{path:"/Markets",element:Object(C.jsx)(_,{})}),Object(C.jsx)(d.a,{path:"/Exchanges",element:Object(C.jsx)(w,{exchanges:B,updateExchangesData:function(){return m(new y(O.exchanges))}})})]})]}),Object(C.jsxs)("footer",{id:"sticky-footer",className:"site-footer clearfix py-2 bg-dark text-white-50 mr-auto",style:A.footer,children:[" ",Object(C.jsx)(l.a,{className:"text-center",children:Object(C.jsx)("small",{children:"Oskari Saarinen \xa9 2021"})})]})]}),Object(C.jsx)(j.a,{sm:1})]})})})})},A={body:{height:"100%",paddingTop:20},main:{marginLeft:"0px",marginBottom:"40px",marginTop:"0px"},jumbotron:{borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderBottomLeftRadius:"0px",backgroundColor:"rgba(255, 255, 255, 0.7)",marginBottom:"0px"},footer:{borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderBottomLeftRadius:"30px",borderBottomRightRadius:"30px",marginTop:"-16px",backgroundColor:"rgba(200,200,200,0.2)"},header:{borderTopLeftRadius:"40px",borderTopRightRadius:"40px",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px"},headerContainer:{backgroundColor:"rgba(128, 72, 255, 0.7)",marginLeft:"8px"},textLogo:{backgroundColor:"rgba(128, 72, 255, 0.9)",height:"44px",backgroundWidth:"100%",borderTopLeftRadius:"25px",borderTopRightRadius:"0px",borderBottomLeftRadius:"25px",borderBottomRightRadius:"0px",paddingLeft:0,paddingRight:"8px"},logoSymbol:{width:"44px",height:"44px",lineHeight:"44px",backgroundColor:"#7066ff",borderRadius:"100px",color:"#fff",fontSize:"28px",fontWeight:800,marginRight:"-12px",marginTop:0,marginBottom:0,marginLeft:"8px",paddingTop:0,paddingBottom:0,fontFamily:"Poppins, Helvetica, sans-serif"},logoText:{lineHeight:"50px",fontSize:"20px",color:"#fff",fontWeight:600,display:"block",marginLeft:"-12px",marginBottom:"-6px",paddingTop:0,paddingBottom:0},headerItems:{lineHeight:"50px",fontSize:"18px",display:"flex",paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},heaterItemLink:{backgroundColor:"rgba(0, 0, 255, 0.5)",height:"50px",lineHeight:"50px",paddingTop:0,paddingBottom:0}},F=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,96)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),c(e),i(e)}))};i.a.render(Object(C.jsx)(a.a.StrictMode,{children:Object(C.jsx)(L,{})}),document.getElementById("root")),F()}},[[86,1,2]]]);
//# sourceMappingURL=main.b6624ad6.chunk.js.map